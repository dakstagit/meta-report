// storage.js
const fs = require("fs");
const path = require("path");

const TOKEN_PATH = path.join(__dirname, "token.json");

const getToken = () => {
  if (fs.existsSync(TOKEN_PATH)) {
    const token = fs.readFileSync(TOKEN_PATH, "utf8");
    return JSON.parse(token);
  }
  return null;
};

const saveToken = (token) => {
  fs.writeFileSync(TOKEN_PATH, JSON.stringify(token));
};

module.exports = { getToken, saveToken };
